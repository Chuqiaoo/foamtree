/*! tooltip 0.1.0 - 18th Dec 2013 | https://github.com/darsain/tooltip */
!function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},a.register("darsain-event/index.js",function(a){"use strict";a.bind=window.addEventListener?function(a,b,c,d){return a.addEventListener(b,c,d||!1),c}:function(a,b,c){var d=b+c;return a[d]=a[d]||function(){var b=window.event;b.target=b.srcElement,b.preventDefault=function(){b.returnValue=!1},b.stopPropagation=function(){b.cancelBubble=!0},c.call(a,b)},a.attachEvent("on"+b,a[d]),c},a.unbind=window.removeEventListener?function(a,b,c,d){return a.removeEventListener(b,c,d||!1),c}:function(a,b,c){var d=b+c;a.detachEvent("on"+b,a[d]);try{delete a[d]}catch(e){a[d]=void 0}return c}}),a.register("darsain-position/index.js",function(a,b,c){"use strict";function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return a&&null!=a.setInterval}function f(a){var b=g.pageYOffset||i.scrollTop,c=g.pageXOffset||i.scrollLeft,f={left:0,right:0,top:0,bottom:0,width:0,height:0};if(e(a))f.width=g.innerWidth||i.clientWidth,f.height=g.innerHeight||i.clientHeight;else{if(!i.contains(a)||null==a.getBoundingClientRect)return f;d(f,a.getBoundingClientRect()),f.width=f.right-f.left,f.height=f.bottom-f.top}return f.top=f.top+b-i.clientTop,f.left=f.left+c-i.clientLeft,f.right=f.left+f.width,f.bottom=f.top+f.height,f}c.exports=f;var g=window,h=g.document,i=h.documentElement}),a.register("component-classes/index.js",function(a,b,c){function d(a){if(!a)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}var e=b("indexof"),f=/\s+/,g=Object.prototype.toString;c.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=e(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==g.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a){return this.list?(this.list.toggle(a),this):(this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,""),b=a.split(f);return""===b[0]&&b.shift(),b},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}}),a.register("component-indexof/index.js",function(a,b,c){c.exports=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}}),a.register("tooltip/index.js",function(a,b,c){"use strict";function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return 0|Math.round(String(a).replace(/[^\-0-9.]/g,""))}function f(a){var b=String(q(a,f.propName)),c=b.match(/([0-9.]+)([ms]{1,2})/);return c&&(b=Number(c[1]),"s"===c[2]&&(b*=1e3)),0|b}function g(a,b){return this instanceof g?(this.hidden=1,this.options=d(p(g.defaults),b),this._createElement(),this.content(a),void 0):new g(a,b)}var h=b("event"),i=b("classes"),j=b("indexof"),k=b("position"),l=window,m=l.document,n=m.body,o=["top","bottom"];c.exports=g;var p=Object.create||function(){function a(){}return function(b){return a.prototype=b,new a}}(),q=l.getComputedStyle?function(a,b){return l.getComputedStyle(a,null)[b]}:function(a,b){return a.currentStyle[b]};f.propName=function(){for(var a=m.createElement("div"),b=["transitionDuration","webkitTransitionDuration"],c="1s",d=0;d<b.length;d++)if(a.style[b[d]]=c,a.style[b[d]]===c)return b[d]}(),g.prototype._createElement=function(){this.element=m.createElement("div"),this.classes=i(this.element),this.classes.add(this.options.baseClass);for(var a,b=0;b<g.classTypes.length;b++)a=g.classTypes[b]+"Class",this.options[a]&&this.classes.add(this.options[a])},g.prototype.type=function(a){return this.changeClassType("type",a)},g.prototype.effect=function(a){return this.changeClassType("effect",a)},g.prototype.changeClassType=function(a,b){return a+="Class",this.options[a]&&this.classes.remove(this.options[a]),this.options[a]=b,b&&this.classes.add(b),this},g.prototype.updateSize=function(){return this.hidden&&(this.element.style.visibility="hidden",n.appendChild(this.element)),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,null==this.spacing&&(this.spacing=null!=this.options.spacing?this.options.spacing:e(q(this.element,"top"))),this.hidden?(n.removeChild(this.element),this.element.style.visibility=""):this.position(),this},g.prototype.content=function(a){return"object"==typeof a?(this.element.innerHTML="",this.element.appendChild(a)):this.element.innerHTML=a,this.updateSize(),this},g.prototype.place=function(a){return this.options.place=a,this.hidden||this.position(),this},g.prototype.attach=function(a){return this.attachedTo=a,this.hidden||this.position(),this},g.prototype.detach=function(){return this.hide(),this.attachedTo=null,this},g.prototype._pickPlace=function(a){if(!this.options.auto)return this.options.place;var b=k(l),c=this.options.place.split("-"),d=this.spacing;if(~j(o,c[0]))switch(a.top-this.height-d<=b.top?c[0]="bottom":a.bottom+this.height+d>=b.bottom&&(c[0]="top"),c[1]){case"left":a.right-this.width<=b.left&&(c[1]="right");break;case"right":a.left+this.width>=b.right&&(c[1]="left");break;default:a.left+a.width/2+this.width/2>=b.right?c[1]="left":a.right-a.width/2-this.width/2<=b.left&&(c[1]="right")}else switch(a.left-this.width-d<=b.left?c[0]="right":a.right+this.width+d>=b.right&&(c[0]="left"),c[1]){case"top":a.bottom-this.height<=b.top&&(c[1]="bottom");break;case"bottom":a.top+this.height>=b.bottom&&(c[1]="top");break;default:a.top+a.height/2+this.height/2>=b.bottom?c[1]="top":a.bottom-a.height/2-this.height/2<=b.top&&(c[1]="bottom")}return c.join("-")},g.prototype.position=function(a,b){this.attachedTo&&(a=this.attachedTo),null==a&&this._p?(a=this._p[0],b=this._p[1]):this._p=arguments;var c="number"==typeof a?{left:0|a,right:0|a,top:0|b,bottom:0|b,width:0,height:0}:k(a),d=this.spacing,e=this._pickPlace(c);e!==this.curPlace&&(this.curPlace&&this.classes.remove(this.curPlace),this.classes.add(e),this.curPlace=e);var f,g;switch(this.curPlace){case"top":f=c.top-this.height-d,g=c.left+c.width/2-this.width/2;break;case"top-left":f=c.top-this.height-d,g=c.right-this.width;break;case"top-right":f=c.top-this.height-d,g=c.left;break;case"bottom":f=c.bottom+d,g=c.left+c.width/2-this.width/2;break;case"bottom-left":f=c.bottom+d,g=c.right-this.width;break;case"bottom-right":f=c.bottom+d,g=c.left;break;case"left":f=c.top+c.height/2-this.height/2,g=c.left-this.width-d;break;case"left-top":f=c.bottom-this.height,g=c.left-this.width-d;break;case"left-bottom":f=c.top,g=c.left-this.width-d;break;case"right":f=c.top+c.height/2-this.height/2,g=c.right+d;break;case"right-top":f=c.bottom-this.height,g=c.right+d;break;case"right-bottom":f=c.top,g=c.right+d}return this.element.style.top=Math.round(f)+"px",this.element.style.left=Math.round(g)+"px",this},g.prototype.show=function(a,b){return a=this.attachedTo?this.attachedTo:a,clearTimeout(this.aIndex),null!=a&&this.position(a,b),this.hidden&&(this.hidden=0,n.appendChild(this.element)),this.attachedTo&&this._aware(),this.options.inClass&&(this.options.effectClass&&void this.element.clientHeight,this.classes.add(this.options.inClass)),this},g.prototype.hide=function(){if(!this.hidden){var a=this,b=0;return this.options.inClass&&(this.classes.remove(this.options.inClass),this.options.effectClass&&(b=f(this.element))),this.attachedTo&&this._unaware(),clearTimeout(this.aIndex),this.aIndex=setTimeout(function(){a.aIndex=0,n.removeChild(a.element),a.hidden=1},b),this}},g.prototype.toggle=function(a,b){return this[this.hidden?"show":"hide"](a,b)},g.prototype.destroy=function(){clearTimeout(this.aIndex),this._unaware(),this.hidden||n.removeChild(this.element),this.element=this.options=null},g.prototype._aware=function(){var a=j(g.winAware,this);~a||g.winAware.push(this)},g.prototype._unaware=function(){var a=j(g.winAware,this);~a&&g.winAware.splice(a,1)},g.reposition=function(){function a(){!c&&g.winAware.length&&(c=d(b,17))}function b(){c=0;for(var a,b=0,d=g.winAware.length;d>b;b++)a=g.winAware[b],a.position()}var c,d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return setTimeout(a,17)};return a}(),g.winAware=[],h.bind(window,"resize",g.reposition),h.bind(window,"scroll",g.reposition),g.classTypes=["type","effect"],g.defaults={baseClass:"tooltip",typeClass:null,effectClass:null,inClass:"in",place:"top",spacing:null,auto:0}}),a.alias("darsain-event/index.js","tooltip/deps/event/index.js"),a.alias("darsain-event/index.js","event/index.js"),a.alias("darsain-position/index.js","tooltip/deps/position/index.js"),a.alias("darsain-position/index.js","position/index.js"),a.alias("component-classes/index.js","tooltip/deps/classes/index.js"),a.alias("component-classes/index.js","classes/index.js"),a.alias("component-indexof/index.js","component-classes/deps/indexof/index.js"),a.alias("component-indexof/index.js","tooltip/deps/indexof/index.js"),a.alias("component-indexof/index.js","indexof/index.js"),"object"==typeof exports?module.exports=a("tooltip"):"function"==typeof define&&define.amd?define(function(){return a("tooltip")}):this.Tooltip=a("tooltip")}();